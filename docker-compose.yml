version: '3.8'

services:
  service1:
    build:
      context: ./services/service1
      dockerfile: Dockerfile
    ports:
      - '6000:6000'
    environment:
      - NODE_ENV=development
      - PORT=6000
      - DB_USERNAME=digitalbeansaustralia
      - DB_PASSWORD=wYMj1Ru3vwRlDtYk
      - DB_HOST=digital-beans-personal.df3g0ca.mongodb.net
      - DB_NAME=res-easy
      - DB_PARAMS=?retryWrites=true&w=majority&appName=digital-beans-personal
    # depends_on:
    #   - mongo

  # service2:
  #   build:
  #     context: ./services/service2
  #     dockerfile: Dockerfile
  #   ports:
  #     - '5002:5002'
  #   environment:
  #     - NODE_ENV=development
  #     - MONGO_URI=mongodb://mongo:27017/test
  #   depends_on:
  #     - mongo

  # mongo:
  #   image: mongo:4.4
  #   ports:
  #     - '27017:27017'
  #   volumes:
  #     - mongo-data:/data/db

# volumes:
#   mongo-data:
